<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mua T·∫∑ng S√°ch</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .gift-option:checked + label {
            background-color: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen font-sans">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
            <!-- Header -->
            <div class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6">
                <h1 class="text-3xl font-bold text-center">üéÅ Mua T·∫∑ng S√°ch</h1>
                <p class="text-center mt-2 text-blue-100">G·ª≠i t·∫∑ng tri th·ª©c ƒë·∫øn ng∆∞·ªùi th√¢n y√™u</p>
            </div>

            <div class="p-6 space-y-8">
                <!-- Gi·ªè h√†ng -->
                <div class="bg-gray-50 rounded-xl p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                        üõí Gi·ªè h√†ng c·ªßa b·∫°n
                    </h2>
                    
                    <div id="cartItems" class="space-y-4">
                        <!-- S√°ch 1 -->
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200 flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <div class="w-16 h-20 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg flex items-center justify-center text-white font-bold text-xs">
                                    üìö
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800">ƒê·∫Øc Nh√¢n T√¢m</h3>
                                    <p class="text-gray-600 text-sm">Dale Carnegie</p>
                                    <p class="text-blue-600 font-bold">89.000ƒë</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <button onclick="updateQuantity(1, -1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors">-</button>
                                <span id="qty1" class="font-semibold w-8 text-center">1</span>
                                <button onclick="updateQuantity(1, 1)" class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors">+</button>
                                <button onclick="removeItem(1)" class="ml-4 text-red-500 hover:text-red-700 transition-colors">üóëÔ∏è</button>
                            </div>
                        </div>

                        <!-- S√°ch 2 -->
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200 flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <div class="w-16 h-20 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center text-white font-bold text-xs">
                                    üìñ
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800">Nh√† Gi·∫£ Kim</h3>
                                    <p class="text-gray-600 text-sm">Paulo Coelho</p>
                                    <p class="text-blue-600 font-bold">79.000ƒë</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <button onclick="updateQuantity(2, -1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors">-</button>
                                <span id="qty2" class="font-semibold w-8 text-center">2</span>
                                <button onclick="updateQuantity(2, 1)" class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors">+</button>
                                <button onclick="removeItem(2)" class="ml-4 text-red-500 hover:text-red-700 transition-colors">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- T·ªïng ti·ªÅn -->
                    <div class="mt-6 pt-4 border-t border-gray-300">
                        <div class="flex justify-between items-center text-lg font-bold text-gray-800">
                            <span>T·ªïng ti·ªÅn s√°ch:</span>
                            <span id="bookTotal" class="text-blue-600">247.000ƒë</span>
                        </div>
                    </div>
                </div>

                <!-- Th√¥ng tin ng∆∞·ªùi nh·∫≠n -->
                <div class="bg-pink-50 rounded-xl p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                        üë§ Th√¥ng tin ng∆∞·ªùi nh·∫≠n
                    </h2>
                    
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">H·ªç v√† t√™n *</label>
                            <input type="text" id="recipientName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nguy·ªÖn VƒÉn A">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">S·ªë ƒëi·ªán tho·∫°i *</label>
                            <input type="tel" id="recipientPhone" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0901234567">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-gray-700 font-semibold mb-2">ƒê·ªãa ch·ªâ nh·∫≠n h√†ng *</label>
                            <textarea id="recipientAddress" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="S·ªë nh√†, t√™n ƒë∆∞·ªùng, ph∆∞·ªùng/x√£, qu·∫≠n/huy·ªán, t·ªânh/th√†nh ph·ªë"></textarea>
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-gray-700 font-semibold mb-2">L·ªùi nh·∫Øn t·∫∑ng k√®m</label>
                            <textarea id="giftMessage" rows="2" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ch√∫c b·∫°n lu√¥n h·∫°nh ph√∫c v√† th√†nh c√¥ng..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Qu√† t·∫∑ng k√®m -->
                <div class="bg-yellow-50 rounded-xl p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                        üéÄ Qu√† t·∫∑ng k√®m
                    </h2>
                    
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div>
                            <input type="checkbox" id="gift1" class="gift-option hidden" onchange="updateGiftTotal()">
                            <label for="gift1" class="block p-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:border-blue-400 transition-colors text-center">
                                <div class="text-3xl mb-2">üñäÔ∏è</div>
                                <div class="font-semibold">B√∫t cao c·∫•p</div>
                                <div class="text-blue-600 font-bold">+25.000ƒë</div>
                            </label>
                        </div>
                        
                        <div>
                            <input type="checkbox" id="gift2" class="gift-option hidden" onchange="updateGiftTotal()">
                            <label for="gift2" class="block p-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:border-blue-400 transition-colors text-center">
                                <div class="text-3xl mb-2">üíå</div>
                                <div class="font-semibold">Thi·ªáp ch√∫c m·ª´ng</div>
                                <div class="text-blue-600 font-bold">+15.000ƒë</div>
                            </label>
                        </div>
                        
                        <div>
                            <input type="checkbox" id="gift3" class="gift-option hidden" onchange="updateGiftTotal()">
                            <label for="gift3" class="block p-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:border-blue-400 transition-colors text-center">
                                <div class="text-3xl mb-2">üå∏</div>
                                <div class="font-semibold">Hoa t∆∞∆°i</div>
                                <div class="text-blue-600 font-bold">+50.000ƒë</div>
                            </label>
                        </div>
                        
                        <div>
                            <input type="checkbox" id="gift4" class="gift-option hidden" onchange="updateGiftTotal()">
                            <label for="gift4" class="block p-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:border-blue-400 transition-colors text-center">
                                <div class="text-3xl mb-2">üéÅ</div>
                                <div class="font-semibold">H·ªôp qu√† ƒë·∫∑c bi·ªát</div>
                                <div class="text-blue-600 font-bold">+30.000ƒë</div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- T·ªïng k·∫øt ƒë∆°n h√†ng -->
                <div class="bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">üí∞ T·ªïng k·∫øt ƒë∆°n h√†ng</h2>
                    
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-gray-700">Ti·ªÅn s√°ch:</span>
                            <span id="finalBookTotal" class="font-semibold">247.000ƒë</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-700">Qu√† t·∫∑ng k√®m:</span>
                            <span id="giftTotal" class="font-semibold">0ƒë</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-700">Ph√≠ v·∫≠n chuy·ªÉn:</span>
                            <span class="font-semibold">30.000ƒë</span>
                        </div>
                        <hr class="border-gray-300">
                        <div class="flex justify-between text-xl font-bold text-green-600">
                            <span>T·ªïng c·ªông:</span>
                            <span id="grandTotal">277.000ƒë</span>
                        </div>
                    </div>
                </div>

                <!-- N√∫t ƒë·∫∑t h√†ng -->
                <div class="text-center">
                    <button onclick="placeOrder()" class="bg-gradient-to-r from-green-500 to-blue-500 text-white px-12 py-4 rounded-xl text-xl font-bold hover:from-green-600 hover:to-blue-600 transform hover:scale-105 transition-all duration-200 shadow-lg">
                        üéâ ƒê·∫∑t h√†ng t·∫∑ng ngay
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let cartData = {
            1: { name: "ƒê·∫Øc Nh√¢n T√¢m", price: 89000, quantity: 1 },
            2: { name: "Nh√† Gi·∫£ Kim", price: 79000, quantity: 2 }
        };

        const giftPrices = {
            gift1: 25000,
            gift2: 15000,
            gift3: 50000,
            gift4: 30000
        };

        function updateQuantity(id, change) {
            if (cartData[id]) {
                cartData[id].quantity = Math.max(1, cartData[id].quantity + change);
                document.getElementById(`qty${id}`).textContent = cartData[id].quantity;
                updateTotals();
            }
        }

        function removeItem(id) {
            if (cartData[id]) {
                delete cartData[id];
                document.querySelector(`#qty${id}`).closest('.bg-white').remove();
                updateTotals();
            }
        }

        function updateTotals() {
            let bookTotal = 0;
            for (let id in cartData) {
                bookTotal += cartData[id].price * cartData[id].quantity;
            }
            
            document.getElementById('bookTotal').textContent = formatPrice(bookTotal);
            document.getElementById('finalBookTotal').textContent = formatPrice(bookTotal);
            
            updateGrandTotal();
        }

        function updateGiftTotal() {
            let giftTotal = 0;
            for (let giftId in giftPrices) {
                if (document.getElementById(giftId).checked) {
                    giftTotal += giftPrices[giftId];
                }
            }
            
            document.getElementById('giftTotal').textContent = formatPrice(giftTotal);
            updateGrandTotal();
        }

        function updateGrandTotal() {
            let bookTotal = 0;
            for (let id in cartData) {
                bookTotal += cartData[id].price * cartData[id].quantity;
            }
            
            let giftTotal = 0;
            for (let giftId in giftPrices) {
                if (document.getElementById(giftId).checked) {
                    giftTotal += giftPrices[giftId];
                }
            }
            
            const shippingFee = 30000;
            const grandTotal = bookTotal + giftTotal + shippingFee;
            
            document.getElementById('grandTotal').textContent = formatPrice(grandTotal);
        }

        function formatPrice(price) {
            return price.toLocaleString('vi-VN') + 'ƒë';
        }

        function placeOrder() {
            const name = document.getElementById('recipientName').value;
            const phone = document.getElementById('recipientPhone').value;
            const address = document.getElementById('recipientAddress').value;
            
            if (!name || !phone || !address) {
                alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin ng∆∞·ªùi nh·∫≠n!');
                return;
            }
            
            const selectedGifts = [];
            for (let giftId in giftPrices) {
                if (document.getElementById(giftId).checked) {
                    selectedGifts.push(document.querySelector(`label[for="${giftId}"] .font-semibold`).textContent);
                }
            }
            
            let orderSummary = `üéâ ƒê·∫∑t h√†ng th√†nh c√¥ng!\n\n`;
            orderSummary += `üìö S√°ch ƒë√£ ch·ªçn:\n`;
            for (let id in cartData) {
                orderSummary += `- ${cartData[id].name} x${cartData[id].quantity}\n`;
            }
            
            if (selectedGifts.length > 0) {
                orderSummary += `\nüéÅ Qu√† t·∫∑ng k√®m:\n`;
                selectedGifts.forEach(gift => orderSummary += `- ${gift}\n`);
            }
            
            orderSummary += `\nüë§ Ng∆∞·ªùi nh·∫≠n: ${name}`;
            orderSummary += `\nüìû SƒêT: ${phone}`;
            orderSummary += `\nüìç ƒê·ªãa ch·ªâ: ${address}`;
            
            const message = document.getElementById('giftMessage').value;
            if (message) {
                orderSummary += `\nüíå L·ªùi nh·∫Øn: ${message}`;
            }
            
            orderSummary += `\n\nüí∞ T·ªïng ti·ªÅn: ${document.getElementById('grandTotal').textContent}`;
            orderSummary += `\n\nüì¶ ƒê∆°n h√†ng s·∫Ω ƒë∆∞·ª£c giao trong 2-3 ng√†y l√†m vi·ªác!`;
            
            alert(orderSummary);
        }

        // Kh·ªüi t·∫°o t·ªïng ti·ªÅn ban ƒë·∫ßu
        updateTotals();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'989de2df654d509a',t:'MTc1OTY3NzQ1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
